{% macro deadline_badge_html(deadline) %}
{% if deadline %}
    {% set today = None %}
    {% set days = (deadline - deadline.__class__.today()).days if deadline else None %}
    {% if days is not none %}
        {% if days < 0 %}
        <span class="badge badge-closed">마감</span>
        {% elif days <= 7 %}
        <span class="badge badge-urgent">D-{{ days }}</span>
        {% elif days <= 30 %}
        <span class="badge badge-soon">D-{{ days }}</span>
        {% else %}
        <span class="badge badge-normal">D-{{ days }}</span>
        {% endif %}
    {% endif %}
{% endif %}
{% endmacro %}
