{% extends "base.html" %}
{% block title %}Founderskorea - 대한민국 창업자를 위한 신뢰받는 정보 허브{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero hero--bg" style="background-image: url('/static/images/hero-bg.jpg');">
    <div class="container">
        <div class="hero--split">
            <div class="hero-text">
                <h1>대한민국 창업자를 위한<br>신뢰받는 정보 허브</h1>
                <p>스타트업 트렌드, 정부지원사업, 투자 정보, 실전 노하우까지.<br>검증된 정보로 창업의 모든 여정을 함께합니다.</p>
                <div class="hero-actions">
                    <a href="/gov-support/db" class="btn btn-accent">정부지원사업 찾기</a>
                    <a href="/onboarding" class="btn btn-outline-light">AI 매칭 시작</a>
                </div>
            </div>
            <div class="hero-visual"></div>
        </div>
    </div>
</section>

<div class="container">
    <!-- Gov Support Widget -->
    <section class="gov-widget">
        <div class="gov-widget-inner">
            <div class="gov-widget-text">
                <h3>나에게 맞는 정부지원사업 찾기</h3>
                <p>5가지 질문에 답하면 맞춤 지원사업을 추천해드립니다. 30개 이상의 실제 정부지원사업 데이터베이스를 기반으로 분석합니다.</p>
            </div>
            <div class="gov-widget-cta">
                <a href="/onboarding" class="btn btn-accent">무료 매칭 시작</a>
                <a href="/gov-support/db" class="btn btn-outline-light">전체 사업 검색</a>
            </div>
        </div>
    </section>

    <!-- Category Previews -->
    {% for cat in categories %}
    {% set cat_posts = [] %}
    {% for post in posts %}
        {% if post.category and post.category.slug == cat.slug %}
            {% if cat_posts|length < 3 %}
                {% set _ = cat_posts.append(post) %}
            {% endif %}
        {% endif %}
    {% endfor %}
    {% if cat_posts|length > 0 %}
    <section class="category-section">
        <div class="section-header">
            <h2>{{ cat.name }}</h2>
            <a href="/{{ cat.slug }}">전체보기 &rarr;</a>
        </div>
        <div class="card-grid">
            {% for post in cat_posts %}
            <a href="/{{ cat.slug }}/{{ post.slug }}" class="post-card">
                <div class="post-meta">
                    <span class="badge badge-cat">{{ cat.name }}</span>
                    {% if post.tag %}<span class="tag">{{ post.tag }}</span>{% endif %}
                </div>
                <h3>{{ post.title }}</h3>
                <p>{{ post.summary }}</p>
                <div class="post-date">{{ post.created_at.strftime('%Y.%m.%d') }}</div>
            </a>
            {% endfor %}
        </div>
    </section>
    {% endif %}
    {% endfor %}

    {% if not posts %}
    <section class="category-section">
        <div class="section-header">
            <h2>최근 글</h2>
        </div>
        <p class="text-secondary text-center mt-4 mb-4">아직 등록된 글이 없습니다.</p>
    </section>
    {% endif %}
</div>
{% endblock %}
